<div *ngIf="loading">Cargando invitaciÃ³n...</div>
<div *ngIf="error" class="error">{{ error }}</div>
<div class="confirm-page" *ngIf="!loading && !error">
  <div class="event-info">
    <h1 class="welcome-text">Â¡Hola {{ guestName }}!</h1>
    <h2>ğŸ‚ Convocatoria oficial de cumpleaÃ±ero ğŸˆ!</h2>
    <div><b>ğŸ“… Fecha:</b> Viernes 01 de Agosto de 2025</div>
    <div><b>ğŸ“ Lugar:</b> SalÃ³n Social Conjunto Bioma</div>
    <div><b>â° Hora:</b> 7:00 p.m</div>
    <div class="event-note">ğŸ¥‚ Tu copa, tu estilo: trae el trago que mÃ¡s te guste para compartir.</div>
  </div>
  
  <p class="welcome-text">Tu asistencia para mÃ­, es el mejor regalo: Vamos a confirmar...</p>
  <form [formGroup]="form" (ngSubmit)="submit()" *ngIf="!confirmed" class="confirm-form-flex needs-validation">
  <div class="confirm-form-block">
    <label for="attendees" class="form-label">Â¿CuÃ¡ntas personas asistirÃ¡n contigo?</label>
    <input id="attendees" type="number" formControlName="attendees" min="1" required class="form-control">
    <div *ngIf="form.get('attendees')?.invalid && form.get('attendees')?.touched" class="invalid-feedback d-block">
      Debe ser al menos 1 persona.
    </div>
  </div>
  <div class="confirm-form-block">
    <label for="confirmed" class="form-label">Â¿Vas a asistir?</label>
    <select id="confirmed" formControlName="confirmed" required class="form-select">
      <option [ngValue]="true">SÃ­, asistirÃ©</option>
      <option [ngValue]="false">No podrÃ© asistir</option>
    </select>
    <div *ngIf="form.get('confirmed')?.invalid && form.get('confirmed')?.touched" class="invalid-feedback d-block">
      Debes seleccionar una opciÃ³n.
    </div>
  </div>
  <div class="confirm-form-block">
    <button type="submit" class="btn btn-primary w-100" [disabled]="form.invalid || form.get('confirmed')?.disabled">Confirmar</button>
  </div>
</form>
  <div *ngIf="success" class="success">{{ success }}</div>
  <div *ngIf="confirmationDate" class="confirmation-date">Confirmado el {{ confirmationDate }}</div>
</div>
